stages:
  - quality gate

quality:
  stage: quality gate
  image:
    name: microsoft/dotnet:2.2-sdk-alpine
    entrypoint: ["/bin/sh", "-c"]
  allow_failure: true
  script:
    - sh setup-sonar.sh
  only:
    refs:
      - branches
  except:
    refs:
      - master
      - SWAGGERHUB
  artifacts:
    expire_in: 1 hour
