stages:
  - quality gate

quality:
  stage: quality gate
  image:
    name: microsoft/dotnet:2.2-sdk-bionic
    #entrypoint: ["/bin/sh"]
  allow_failure: true
  script:
    - /bin/sh setup-sonar.sh
  only:
    refs:
      - branches
  except:
    refs:
      - master
      - SWAGGERHUB
  artifacts:
    expire_in: 1 hour
